Идея проекта:
 pass

В проекте должны быть две основные сущности:

День (Day): 

Представляет собой запись о конкретном дне, который может быть установлен как активный. Дни имеют следующие атрибуты:
id: Уникальный идентификатор дня (автоинкремент).
year: Год, к которому относится день.
season: Сезон ('spring', 'summer', 'autumn', 'winter'). Значение по умолчанию для "нулевого дня" - 'undefined'.
number: Порядковый номер дня в сезоне.
active: Булево значение, указывающее, является ли день текущим активным днем.

Задача (Task):

Представляет собой конкретную задачу, привязанную к определенному дню. Задачи включают:
id: Уникальный идентификатор задачи (автоинкремент).
name: Название задачи.
day_id: Внешний ключ, связывающий задачу с конкретным днем.
type: Тип задачи ('dayly','one-time').
status: Статус задачи ('active', 'completed').

Структура Проекта:

Проект организован по слоям для лучшей читаемости и поддерживаемости:
main.py: Главный файл Flask-приложения. Содержит точку входа и инициализацию базы данных.
config.py: Файл для хранения общих настроек приложения, таких как путь к файлу базы данных (DB_PATH).
api.py: Файл для регистрации API-роутов.
entities.py: Определения классов Python (Task, Day), которые представляют собой структуры данных (сущности) приложения.
repository.py: Слой доступа к данным. Содержит функции для выполнения CRUD-операций (Create, Read, Update, Delete) напрямую с базой данных SQLite. Например, insert_day, get_day_by_id, insert_task.
migration.py: Содержит функции для управления схемой базы данных, такие как создание таблиц (create_database_and_tables). Это гарантирует, что структура БД соответствует ожиданиям приложения при его запуске.

Логика работы с днями:

Приложение реализовано с учетом следующих принципов управления днями:
"Нулевой день": Создается специальный "нулевой день" только в том случае, если таблица дней в базе данных полностью пуста. Этот день служит плейсхолдером и указывает на то, что пользователю нужно установить свой первый реальный день. Нулевой день всегда неактивен и не может иметь задач.
Инициализация текущего дня: При каждом запуске приложения система сначала пытается найти активный день в базе данных. Если такой день найден, он становится текущим. Если активных дней нет(при первом запуске вообще никаких дней нет), то текущим отображаемым днем становится "нулевой день".
Управление активностью дня: В любой момент времени в базе данных может быть только один активный день (active = True). При переключении на новый день (будь то "следующий" день или конкретная дата), предыдущий активный день автоматически деактивируется.

Правила работы с задачами:

Задачи могут быть добавлены только к реальному, активному дню. Невозможно добавить задачи к "нулевому дню" или к любому другому неактивному дню.
При добавлении задачи мы передаем только название задачи, ее тип и статус изначально установлены как 'one-time' и 'active' соответственно.

API Endpoints (Ожидаемые)

Проект будет предоставлять следующие API-ручки для взаимодействия:

GET /api/day/current: Получение информации о текущем активном/отображаемом дне (год, сезон, номер) и всех привязанных к нему задачах.

POST /api/tasks: Создание новой задачи, привязанной к текущему активному дню.

PUT /api/day/current: Установка конкретного дня как активного (по параметрам год, сезон, номер). Этот запрос может как активировать уже существующий день, так и создать новый, если его нет. Также деактивирует предыдущий активный день.

POST /api/day/next: Переключение текущего активного дня на следующий (увеличение номера дня на 1). Этот запрос деактивирует текущий день и активирует или создает следующий.
